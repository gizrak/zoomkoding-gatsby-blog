---
emoji: π”‘
title: μΈμ¦κ³Ό μ „μμ„λ…
date: '2023-06-02 12:00:00'
author: TED
tags: security encrypt algorithm
categories: μ»΄ν“¨ν„°
---

### μ–‘λ°©ν–¥ μ•”νΈν™”

- λ‚΄κ°€ λ³΄λ‚Έ λ°μ΄ν„°λ¥Ό `μ¤‘κ°„μ—μ„λ” λ¨λ¥΄κ², λ°›μ€ μ‚¬λμ€ μ• μ μκ²` ν•λ”κ² λ©μ 
  ![](49558-2023-6-2-14-59.png) 
- μ΄λ•, μ•”νΈν™” ν‚¤λ¥Ό κµν™ν•κΈ° μ„ν• λ°©μ‹μΌλ΅ λ‹¤μ‹ 2κ°€μ§€λ΅ λ‚λ‰¨

#### λ€μΉ­ν‚¤ vs κ³µκ°ν‚¤(λΉ„λ€μΉ­ν‚¤) μ•”νΈν™”

|λ°©μ‹|λ€μΉ­ν‚¤|κ³µκ°ν‚¤(λΉ„λ€μΉ­ν‚¤)|
|---|---|---|
|μ„¤λ…|μ•”λ³µνΈν™”μ— μ‚¬μ©λλ” ν‚¤κ°€ λ™μΌ|μ•”λ³µνΈν™”μ— μ‚¬μ©λλ” ν‚¤κ°€ λ‹¤λ¦„|
|λ€ν‘ μ•κ³ λ¦¬μ¦|DES,AES,SEED|RSA,DSA|
|μ¥μ |λΉ λ¦„|λλ¦Ό|
|λ‹¨μ |ν‚¤κµν™μ μ·¨μ•½μ„±|ν‚¤κµν™μ μ•μ •μ„±|

#### κ³µκ°ν‚¤ μ•”νΈν™” ν™μ©

- ν‚¤κ°€ 2κ°λΌλ” κ±°μ§€ μ–΄λ–¤κ±Έ κ³µκ°ν‚¤λ΅ μ‚¬μ©ν•΄λ„ λ¬΄κ΄€
	- μƒλ€μ—κ² μ£Όλ” κ²ƒ `κ³µκ°ν‚¤`, λ‚΄κ°€ κ°€μ§€λ” κ²ƒ `λΉ„λ°€ν‚¤`
- 2κ°€μ§€ λ°©μ‹μΌλ΅ ν™μ©μ΄ κ°€λ¥
	- λ‚΄ `λΉ„λ°€ν‚¤`λ΅ λ³µνΈν™”: λ„κµ¬λ‚ μ•”νΈν™”λ λ©”μ‹μ§€λ¥Ό λ³΄λ‚΄κ³ , λ‚λ§ μ—΄μ–΄ λ³Ό μ μμ
	- λ‚΄ `λΉ„λ°€ν‚¤`λ΅ μ•”νΈν™”: λ„κµ¬λ‚ λ³µνΈν™”ν•μ—¬ λ³Ό μ μλ” λ©”μ‹μ§€λ¥Ό λ°›κ³ , λ‚λ§μ΄ λ§λ“¤ μ μμ

### λ‹¨λ°©ν–¥ μ•”νΈν™”

- λ³µνΈν™”κ°€ λ¶κ°€λ¥ν• ν•΄μ‹λ¥Ό μƒμ„±ν•κ³  μ΄ κ°’μΌλ΅ λ³€μ΅°λμ§€ μ•μ•μμ„ μ¦λ…
  ![](29699-2023-6-2-15-0.png) 
- ν™μ©ν•λ” λ€ν‘μ μΈ μ‚¬λ΅€
	- `ν¨μ¤μ›λ“ μ•”νΈν™”` ~~λ‡ κΈ€μ λ‹¤λ¥Έμ§€ μ•λ©΄ μ–‘λ°©ν–¥μΌλ΅ μ €μ¥ν•λ” κ²ƒ~~
	- `μ „μμ„λ…`
- λ€ν‘μ μΈ μ•κ³ λ¦¬μ¦
	- MD5, SHA128, SHA256, SHA384, SHA512
- μ°Έκ³ λ΅, `base64`λ” μΈμ½”λ”©/λ””μ½”λ”©μ΄ κ°€λ¥ν•λ©° ν•΄μ‹μ™€λ” λ‹¤λ¦„

### λ””μ§€ν„Έ μ„λ…

- μ„ν‚¤λ°±κ³Ό μ •μ
	- λ„¤νΈμ›ν¬μ—μ„ μ†΅μ‹ μμ μ‹ μ›μ„ μ¦λ…ν•λ” λ°©λ²•μΌλ΅, μ†΅μ‹ μκ°€ μμ‹ μ `λΉ„λ°€ν‚¤λ΅ μ•”νΈν™”`ν• λ©”μ‹μ§€λ¥Ό μμ‹ μκ°€ μ†΅μ‹ μμ `κ³µμ© ν‚¤λ΅ ν•΄λ…`ν•λ” κ³Όμ •
- λ””μ§€ν„Έ μ„λ…μ€ μΌλ°μ μΌλ΅ λ‹¤μμ μ„Έ κ°€μ§€ μ•κ³ λ¦¬μ¦
	- ν‚¤ μƒμ„± μ•κ³ λ¦¬μ¦ ex) κ³µκ°ν‚¤ μ•”νΈν™”
	- μ„λ… μƒμ„± μ•κ³ λ¦¬μ¦ ex) λ‹¨λ°©ν–¥ ν•΄μ‹± μ•”νΈν™” + λΉ„λ°€ν‚¤
	- μ„λ… κ²€μ¦ μ•κ³ λ¦¬μ¦ ex) λ‹¨λ°©ν–¥ ν•΄μ‹± μ•”νΈν™” + κ³µκ°ν‚¤
- λ””μ§€ν„Έ μ„λ… vs μ „μ μ„λ…
	- `λ””μ§€ν„Έμ„λ…`: μ†΅μ‹ μκ°€ μμ‹ μ μ‹ μ›μ„ μ¦λ…ν•λ” μ μ°¨
	- `μ „μμ„λ…`: κ·Έ μ μ°¨μ νΉμ • λ‹¨κ³„μ—μ„ μ‚¬μ©ν•λ” μ •λ³΄

#### ν”„λ΅μ„Έμ¤

1. μ†΅μ‹ μ
	1. μ›λ³Έ λ¬Έμ„(ν‰λ¬Έ)μ„ ν•΄μ‹±
	2. ν•΄μ‹±λ λ¬Έμ„ λ°μ΄ν„°λ¥Ό λΉ„λ°€ν‚¤λ΅ `μ•”νΈν™”`
	3. μ•”νΈν™”λ μ „μ μ„λ…(ν•΄μ‹)λ¥Ό λ¬Έμ„μ— μ²¨λ¶€
2. μμ‹ μ
	1. μμ‹  λ¬Έμ„(ν‰λ¬Έ)μ„ ν•΄μ‹±
	2. μ²¨λ¶€λ μ „μ μ„λ…(ν•΄μ‹)μ„ κ³µκ°ν‚¤λ΅ `λ³µνΈν™”`
	3. μ„ 1,2λ² κ°’μ΄ κ°™μ€μ§€ λΉ„κµ

### μΈμ¦κ³Ό μ„λ…

- μ„μ—μ„ λ΄¤λ μ„λ…μ λ°©μ‹μ„ λ°”νƒ•μΌλ΅ λ‹¤μ–‘ν• ν•νƒμ ν™μ© λ°©λ²•μ΄ κ°λ°λ¨
	- μ‚¬μ©μ μΈμ¦ μ •λ³΄λ¥Ό μ„λ…ν•μ—¬ μ„λ³€μ΅° κ±±μ • μ—†μ΄ ν† ν°μ— μ‹£κ±°λ‚
	- μΈν„°λ„·μ— κ³µκ°λ APIμ—μ„ μΈμ¦λ λ‹¨λ§κΈ°μ μ”μ²­μ μ„λ³€μ΅°λ¥Ό κ²€ν† ν•κ±°λ‚
- λ””μ§€ν„Έ μ„λ…μ²λΌ λ³µνΈν™” ν•  ν•„μ”λ” μ—†μ
	- λ‹¨μ§€ μ„λ³€μ΅°λ§ κ²€μ‚¬ν•λ©΄ λκΈ° λ•λ¬Έμ— ν•΄μ‹κ°€ κ°™μ€μ§€λ§ λ³΄λ©΄ λ¨
	- RSA μ‚¬μ©ν•μ§€ μ•κΈ° λ•λ¬Έμ— λ” λΉ λ¦„

#### JWT

- μΈμ¦ μ •λ³΄λ¥Ό μ§€μ†ν•λ” λ€ν‘μ μΈ λ°©λ²•μΌλ΅ μΏ ν‚¤, μ„Έμ…, ν† ν°μ΄ μμ
	- μ–΄λ–¤ λ°©λ²•μ΄λ“  ν•΄λ‹Ή μ •λ³΄μ μ£ΌμΈμ„ ν™•μΈν•κΈ° μ„ν•΄ DBμ— λ€ν• IOκ°€ ν•„μ”ν–μ
- κ·ΈλΌ μ΄λ° μ •λ³΄λ¥Ό λ¨λ‘ ν† ν°μ— λ‹΄μ•„λ‘λ©΄ μ–΄λ–¨κΉ?
	- ν† ν°μ— μ‚¬μ©μ μ •λ³΄λ¥Ό λ…Έμ¶ν•λ©΄ μ„λ³€μ΅° λμ—μ„ κ²½μ° μ„ν—μ„± μ΅΄μ¬
	- μ΄λ¥Ό ν•΄κ²°ν•κΈ° μ„ν•΄ ν† ν°μ— μ„λ…μ„ κ°™μ΄ μ²¨λ¶€
- JWT κµ¬μ΅°
  ![](47846-2023-6-2-15-0.png) 
- HTTP ν—¤λ” μƒν” (RFC 6750 Bearer νƒ€μ…)
	- `Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c`
- μΈμ¦μ„λ²„ λ³‘λ© μ΄μ
	- `HS256(HMAC+SHA256)` λ°©μ‹μ„ μ‚¬μ©ν•λ©΄, λ€μΉ­ν‚¤λ¥Ό λ°°ν¬λ λ¨λ“  μ„λ²„μ—μ„ κ³µμ  or μΈμ¦μ„λ²„ λ³‘λ©
	- `RS256(RSA+SHA256)` λ°©μ‹μ„ ν†µν•΄, μΈμ¦μ„λ²„κ°€ ν† ν°μ„ λ°κΈ‰(λΉ„λ°€ν‚¤)ν•κ³  μ„λΉ„μ¤μ—μ„ κ²€μ¦(κ³µκ°ν‚¤)
		- public key μ΅°νν•λ” APIλ¥Ό μΈμ¦μ„λ²„κ°€ μ κ³µ
		- μ„λΉ„μ¤λ” ν• λ²λ§ μΈμ¦μ„λ²„μ™€ ν†µμ‹ ν•΄μ„ public keyλ¥Ό κ°€μ Έμ¤λ©΄ λ¨

#### HMAC

- HMAC = Hash(Message, Key) + Message
- κ³µμ ν‚¤λ¥Ό μ΄μ©ν•μ—¬ μ „λ‹¬ν•  λ©”μ‹μ§€μ ν•΄μ‹κ°’μ„ μ–‘μ½μ—μ„ μƒμ„±ν•μ—¬, λ©”μ‹μ§€μ μ„λ³€μ΅° μ—¬λ¶€λ¥Ό νλ‹¨
  ![](1942-2023-6-2-15-1.png) 
- Replay Attack
	- κ³µκ²©μλ” λ©”μ‹μ§€ λ³€μ΅°λ” λ»ν•΄λ„, λ™μΌν• λ©”μ‹μ§€λ¥Ό κ³„μ† ν™μ© κ°€λ¥
	- HMAC λ€μƒ λ©”μ‹μ§€μ—Β `timestamp`λ¥Ό ν¬ν•¨, νΉμ • μ‹κ°„ μ§€λ‚ ν›„ λ¬΄ν¨ν™” μ‹ν‚΄
- μμ„Έν• λ‚΄μ©μ€ [MLOps μμ¨μ£Όν–‰μ°¨λ‰ API μ—°λ™ μ„¤κ³„](https://wiki.navercorp.com/pages/viewpage.action?pageId=1403343484#id-μμ¨μ£Όν–‰μ°¨λ‰APIμ—°λ™μ„¤κ³„-HMAC) μ°Έκ³ 

### (opt) λ³΄μ• κ΄€λ ¨ μ©μ–΄

- SSL: λ€μΉ­ν‚¤μ™€ κ³µκ°ν‚¤ μ•”νΈν™”μ μ¥μ μ„ λ¨λ‘ ν™μ©ν• λ°©λ²•
  - ν‚¤κµν™μ΄ μ•μ „ν• `κ³µκ°ν‚¤` λ°©μ‹μΌλ΅ `λ€μΉ­ν‚¤`λ¥Ό μµμ΄ ν• λ² κµν™
  - μ΄ν›„ ν†µμ‹ μ—μ„λ” κ° μ—£μ§€μ—μ„ μ†λ„κ°€ λΉ λ¥Έ `λ€μΉ­ν‚¤` λ°©μ‹μΌλ΅ μ•”νΈ ν†µμ‹ 
    ![](33391-2023-6-2-15-1.png) 
- TLS: SSLμ κ°μ„ λ λ²„μ „
- HTTPS: HTTP ν†µμ‹ μ— SSL/TLSκ°€ μ μ©λ λ²„μ „
- MITM: μ¤‘κ°„ νΈλν”½μ—μ„ κ°€μ§ μΈμ¦μ„λ¥Ό λ³΄λ‚Έ λ’¤ HTTPS ν†µμ‹ μ„ λ³µνΈν™”
- RootCA: μ‹ λΆ°ν•  μ μλ” μ 3μ μΈμ¦κΈ°κ΄€μ„ λ‘μ–΄ MITM λ¬΄λ ¥ν™”
- μΈμ¦μ„ μ²΄μΈ: μΈμ¦μ„λ¥Ό μ‹ λΆ°ν•  μ μλ„λ΅ μ„λ…μΌλ΅ λ§λ“¤μ–΄μ§„ μ²΄μΈ
  ![](52873-2023-6-2-15-1.png) 

### μ°Έκ³ 
- [RAON CTF - WEB Essential](https://joongbu.raonctf.com/essential/study/web/cryptography)
- [μ „μ†΅ κ³„μΈµ λ³΄μ• - μ„ν‚¤λ°±κ³Ό, μ°λ¦¬ λ¨λ‘μ λ°±κ³Όμ‚¬μ „ (wikipedia.org)](https://ko.wikipedia.org/wiki/%EC%A0%84%EC%86%A1_%EA%B3%84%EC%B8%B5_%EB%B3%B4%EC%95%88)
- [154. [Security] SSLκ³Ό μΈμ¦μ„ κµ¬μ΅° μ΄ν•΄ν•κΈ° : CA (Certificate Authority) λ¥Ό μ¤‘μ‹¬μΌλ΅ : λ„¤μ΄λ²„ λΈ”λ΅κ·Έ (naver.com)](https://m.blog.naver.com/alice_k106/221468341565)
- [κ³µκ° ν‚¤ κΈ°λ° κµ¬μ΅° - μ„ν‚¤λ°±κ³Ό, μ°λ¦¬ λ¨λ‘μ λ°±κ³Όμ‚¬μ „ (wikipedia.org)](https://ko.wikipedia.org/wiki/%EA%B3%B5%EA%B0%9C_%ED%82%A4_%EA%B8%B0%EB%B0%98_%EA%B5%AC%EC%A1%B0)
- [[JWT] JWTλ€ λ¬΄μ—‡μΈκ°€? (JSON Web Token) μ‰½κ² μ •λ¦¬ν• coreκ°λ…λ“¤ (tistory.com)](https://etloveguitar.tistory.com/101)
- [Hypertext Transfer Protocol (HTTP) Authentication Scheme Registry (iana.org)](http://www.iana.org/assignments/http-authschemes/http-authschemes.xhtml)
- [RFC 6750: OAuth 2.0 κ¶ν• λ¶€μ—¬ ν”„λ μ„μ›ν¬: μ „λ‹¬μ ν† ν° μ‚¬μ© (rfc-editor.org)](https://www.rfc-editor.org/rfc/rfc6750)
- [jwt - RS256 λ€ HS256: μ°¨μ΄μ μ€ λ¬΄μ—‡μ…λ‹κΉ? - μ¤νƒ μ¤λ²„ν”λ΅ (stackoverflow.com)](https://stackoverflow.com/questions/39239051/rs256-vs-hs256-whats-the-difference)
- [JWT(HS256,RS256)μ™€ JWK(JSON Web Key) μ΄μ•ΌκΈ° (tistory.com)](https://idlecomputer.tistory.com/361)
- [μμ¨μ£Όν–‰μ°¨λ‰ API μ—°λ™ μ„¤κ³„ - Platform Engineering - WIKI (navercorp.com)](https://wiki.navercorp.com/pages/viewpage.action?pageId=1403343484)
